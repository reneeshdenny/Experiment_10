<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Experiment 10</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>  
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-route.js"></script>
    </head>
    <style>
        label {
        display: inline-block;
        width: 150px;
      }
      input{
        border-radius: 5%;
      }
    </style>
    <body ng-app="myapp" class="bg-dark text-white  container-fluid">
        <h1 class="text-primary text-center">Experiment 10</h1>
        <div  ng-controller="form" class="d-flex justify-content-center p-3">
            <div class="row border col-md-10">
                <h3 class="text-center">Christmas Megaplay Registration Form</h3><br><br><br>
                <form name='myform' ng-init="name_error=''">
                    <div class="col-md-10">
                    <label for="name" class="form-label col-md-4">Name*</label> 
                    <input class="col-md-3" type='text' name="myName" id="name" ng-model="name" required placeholder="Enter Name...">
                    <span class="text-danger" ng-show="myform.myName.$dirty && myform.myName.$error.required">Name is required...</span>
                    <span class="text-danger" ng-bind="name_error">{{checkname()}}</span>     
                    <span class="text-success" ng-bind="name_s" ng-show="myform.myName.$valid"></span> 
                    </div>

                    <div class="col-md-10">
                    <label for="regno" class="form-label col-md-4">Register No*</label> 
                    <input class="col-md-3" type='text' name="myregno" id="regno" ng-model="regno" required placeholder="Enter Register No...">
                    <span class="text-danger" ng-show='myform.myregno.$dirty && myform.myregno.$error.required'>Register No is required...</span>
                    <span class="text-danger" ng-show='myform.myregno.$valid' ng-bind="regno_error">{{checkregno()}}</span>     
                    <span class="text-success" ng-bind="regno_s" ng-show="myform.myregno.$valid"></span> 
                </div>

                    <div class="col-md-10">
                    <label for="age" class="form-label col-md-4">Age*</label> 
                    <input class="col-md-3" type='number' name="myage" id="age" ng-model="age" required placeholder="Enter Age...">
                    <span class="text-danger" ng-show='myform.myage.$dirty && myform.myage.$error.required'>Age is required...</span>
                    <span class="text-danger" ng-show="myform.myage.$valid" ng-bind="age_error">{{checkage()}}</span>     
                    <span class="text-success" ng-bind="age_s" ng-show="myform.myage.$valid"></span> 
                </div>

                    <div class="col-md-10">
                    <label for="mno" class="form-label col-md-4">Mobile Number*</label> 
                    <input class="col-md-3" type="tel" name="mymno" id="mno" ng-model="mno" required placeholder="Enter Mobile Number...">
                    <span class="text-danger" ng-show='myform.mymno.$dirty && myform.mymno.$error.required'>Mobile number is required...</span>
                    <span class="text-danger" ng-show="myform.mymno.$valid" ng-bind="mno_error">{{checkmno()}}</span>     
                    <span class="text-success" ng-bind="mno_s" ng-show="myform.mymno.$valid"></span> 
                </div>

                    <div class="col-md-10">
                    <label for="email" class="form-label col-md-4">Email*</label> 
                    <input class="col-md-3" type='email' name="myemail" id="email" ng-model="email" required placeholder="Enter Email...">
                    <span class="text-danger" ng-show='myform.myemail.$dirty && myform.myemail.$error.required'>Email is required...</span>
                    <span class="text-danger" ng-show="!myform.myemail.$error.required && myform.myemail.$invalid">Email is not valid</span>     
                </div>

                    <div class="col-md-10">
                    <label for="gender" class="form-label col-md-4">Gender*</label> 
                    <input class="col-md-2 " type='radio' name="mygender" id="gender" ng-model="gender" value="Male" >Male
                    <input class="col-md-2 " type='radio' name="mygender" id="gender" ng-model="gender" value="Female" >Female
                    <span class="text-danger" ng-bind="gender_error" ng-show="myform.mygender.$valid">{{checkgender()}}</span>     
                    <span class="text-success" ng-bind="gender_s" ng-show="myform.mygender.$valid"></span> 
                </div>

                    <div class="col-md-10">
                    <label for="talent" class="form-label col-md-4">Talent*</label> 
                    <select class="col-md-3 text-dark" name="mytalent" id="talent" ng-model="talent" >
                        <option value="Singing">Singing</option> 
                        <option value="Dancing">Dancing</option> 
                        <option value="MC">MC</option> 
                        <option value="Acting">Acting</option> 
                    </select>
                    <span class="text-danger" ng-bind="talent_error" ng-show="myform.mytalent.$valid">{{checktalent()}}</span>     
                    <span class="text-success" ng-bind="talent_s" ng-show="myform.mytalent.$valid"></span>                     
                </div>
                
        <br><br>
        <div class="text-center">
        <button ng-disabled=" name_error!='' || myform.myName.$invalid || myform.myregno.$invalid || regno_error!='' || myform.myage.$invalid || age_error!='' || myform.mymno.$invalid || mno_error!='' || myform.myemail.$invalid || gender_error!='' || talent_error!=''" ng-click="submit()" class="btn bg-primary text-white">submit</button><br><br>
    </div></form>
    <div>
        <a href="#!URK20CS2075">URK20CS2075</a>
        <a href="#!URK20CS2065">URK20CS2065</a>
        <a href="#!URK20CS2062">URK20CS2062</a>
        <a href="#!URK20CS2069">URK20CS2069</a>
    </div>
    <div ng-view></div>
        <script type="text/javascript">
            var app= angular.module("myapp",["ngRoute"]);
            app.controller("form",function($scope)
            {
                $scope.checkname=function(){
                    console.log($scope.name)
                if(/\d/.test($scope.name)){
                    $scope.name_error="Name should contain only alphabets"
                    $scope.name_s=""
                }
                else{
                    $scope.name_error=""
                    $scope.name_s="✓"
                }}
                $scope.checkregno=function(){
                    console.log($scope.regno)
                    if((/[a-z]/.test($scope.regno) || /[A-Z]/.test($scope.regno)) && /\d/.test($scope.regno) && $scope.regno.length==11){
                    $scope.regno_error=""
                    $scope.regno_s="✓"
                }
                else{
                    $scope.regno_error="Register Number not valid "
                    $scope.regno_s=""
                }}
                $scope.checkage=function(){{}
                if($scope.age>=18 && $scope.age<=30){
                    $scope.age_error=""
                    $scope.age_s="✓"
                }
                else{
                    $scope.age_error="Age should be within 18 to 30"
                    $scope.age_s=""
                }}
                $scope.checkmno=function(){
                if($scope.mno!=undefined && $scope.mno.length===10){
                    $scope.mno_error=""
                    $scope.mno_s="✓"
                }
                else{
                    $scope.mno_error="Mobile number should be 10 digits"
                    $scope.mno_s=""
                }}
                $scope.checkgender=function(){
                if($scope.gender===undefined){
                    $scope.gender_error="Gender is required"
                    $scope.gender_s=""
                }
                else{
                    $scope.gender_error=""
                    $scope.gender_s="✓"
                }}
                $scope.checktalent=function(){
                if($scope.talent===undefined){
                    $scope.talent_error="Talent is required"
                    $scope.talent_s=""
                }
                else{
                    $scope.talent_error=""
                    $scope.talent_s="✓"
                }}
                }
            )
            app.config(function($routeProvider){
                $routeProvider.when('/URK20CS2075',{
                    templateUrl:'./URK20CS2075.html'
                })
                .when('/URK20CS2065',{
                    templateUrl:'./URK20CS2065.html'
                })
                .when('/URK20CS2062',{
                    templateUrl:'./URK20CS2062.html'
                })
                .when('/URK20CS2069',{
                    templateUrl:'./URK20CS2069.html'
                })
                .otherwise({redirectTo:'/URK20CS2075'})
                })
        </script> </div>
    </body>     
</html>